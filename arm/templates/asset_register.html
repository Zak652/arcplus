{% extends "bootstrap/base.html" %}

{% block title %}
Asset Register
{% endblock %}

{% block navbar %}
<span>
<ul class="nav nav-tab">
  <li class="nav-item">
    <a class="nav-link active" href="{{ url_for('view_register') }}">Register</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="{{ url_for('create_asset') }}">Add Asset</a>
  </li>
</ul>
</span>
<span>
<ul class="nav nav-tab justify-content-end">
  <li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Welcome {{ current_user.name }}!</a>
    <div class="dropdown-menu">
      <a class="dropdown-item" href="#">Action</a>
      <div class="dropdown-divider"></div>
      <a class="dropdown-item" href="#">Separated link</a>
    </div>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="{{ url_for('logout') }}">logout</a>
  </li>
</ul>
</span>

{%- endblock navbar %}

{% block content %}

<div class="my-3 p-3 bg-white rounded box-shadow">
  <div class="table-responsive">
    <table class="table table-striped table-hover">
      <!-- table header -->
      <thead class="thead-dark">
        <tr>
          {% for key in assets[0] %}
          {% if key not in ['Capture Date','Supplier', 'Photo', 'Purchase Price', 'User', 'Value', 'Comments'] %}
            <th> {{ key }} </th>
          {% endif %}
          {% endfor %}
        </tr>
      </thead>

      <!-- table rows -->
    {% for asset in assets %}
    <tbody>
      <tr>
        {% for value in asset.values() %}
        {% if value not in [asset['Capture Date'], asset['Supplier'], asset['Photo'], asset['Purchase Price'], asset['User'], asset['Value'], asset['Comments']] %}
          <td><a href="{{ url_for('view_single_asset', barcode = asset.Barcode) }}">{{ value }}</a></td>
        {% endif %}
        {% endfor %}
      </tr>
    </tbody>
    {% endfor %}

    </table>
  </div>
</div>
{% endblock %}